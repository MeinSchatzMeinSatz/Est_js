# 논리 연산자

논리 연산자 &&, ||, !는 보통 참과 거짓을 나타내는 불리언 값을 이용해 연산을 수행하며, 이 경우 결괏값도 불리언 값입니다. 하지만 자바스크립트에서는 `불리언이 아닌 값도, 논리 연산자의 피연산자가 될 수 있습니다.` 만약 논리 연산자의 피연산자로 불리언이 아닌 값이 온다면, truthy 값과 falsy 값이라는 개념을 사용해 피연산자를 평가합니다. 즉 논리 연산자를 제대로 이해하려면 truthy 값과 falsy값의 개념을 알아야만 합니다.

## truthy 값과 falsy 값

`truthy 값은 참과 같은 값`입니다. 이 값들은 불리언 타입은 아니지만, 논리 연산자와 함께 사용하면 참으로 평가됩니다. 이와 반대로 falsy 값은 거짓과 같은 값으로 논리 연산자와 함께 사용하면 거짓으로 평가됩니다. 이와 반대로 `falsy 값은 거짓과 같은 값`으로 논리 연산자와 함께 사용하면 거짓으로 평가됩니다.

자바스크립트의 모든 값은 truthy 값과 falsy 값 두 가지로 나뉩니다. falsy 값들은 다음과 같습니다.

- false
- null
- undefined
- NaN
- ''(빈 문자열)
- 0
- 0n

이들 외에는 모두 truthy 값입니다. falsy 값만 잘 알면 논리 연산자에서 다른 타입의 값들이 어떻게 변환되고 연산이 평가될지 정확하게 알 수 있습니다. 종종 개발자들이 truthy 값이지만 falsy 값으로 착각하는 몇 가지를 정리했습니다.

- 빈 배열, 빈 객체: 배열이나 객체는 항상 참으로 평가됩니다. 만약 빈 배열이 거짓으로 평가되길 원하면 length 프로퍼티를 사용합니다.
- 공백 또는 줄 바꿈 문자열: 공백과 줄 바꿈을 표현하는 문자열 값이 있으므로, 참으로 평가됩니다.
- 문자열 'false': const a = 'false' 를 보면 'false'라는 문자열 값이 있어 참으로 평가됩니다.

## && || ! 연산자

연산자: 수행 연산 : : 결합방향 : 예제
&& : 논리AND : 2 : 좌 -> 우 : x&&y > z
|| : 논리OR : 2 : 좌 -> 우 : x||y > z
! : 논리NOT : 1 : 우 -> 좌 : !x

### AND(&&)

피연산자가 모두 참으로 평가될 때 참으로 평가됩니다.

```javascript
const x = 1;
const y = 2;
const z = 3;

x && y > z; // false
```

피연산자 x는 truthy 값이므로 참으로 평가되지만, 우측 비교 연산의 결과값이 거짓으로 평가되어 결과값으로 false를 반환합니다.

### OR(||)

피연산자가 모두 거짓으로 평가될 떄만 거짓으로 평가된다. 피연산자 중 하나라도 참으로 평가되는 값이 있다면 참으로 평가된다.

```javascript
const x = 1;
const y = 2;
const z = 3;

x || y > z; // true
```

x가 truthy 값이기 때문에 결과값으로 true를 반환합니다.

### NOT(!)

! 연산자는 단항 연산자로 피연산자의 불리언 값을 반대로 반전시킵니다. NOT 연산자는 !!처럼 연속해서 사용하기도 하는데, 이런 연산을 부정을 두 번 한다고 해서 이중 부정 연산자라고 부릅니다. 주로 기존 값을 불리언 타입으로 변환할 때 사용합니다.

## 단락평가(Short Circuit)

AND 연산자와 OR 연산자는 단락 평가라는 특징을 가집니다.

AND 연산의 경우 앞의 평가 결과가 거짓이라며 뒤의 평가 결과와는 상관없이 false를 반환합니다. 이런 경우 앞의 평가 결과가 참이라면 뒤의 평가 결과와 상관없이 true를 반환합니다. 그리고 마찬가지로 뒤의 표현식은 평가하지 않습니다.

OR 연산의 경우 앞의 평가 결과가 참이라면 뒤의 평가 결과와 상관없이 true를 반환합니다. 그리고 마찬가지로 그 뒤의 표현식은 평가하지 않습니다.

이러한 방식을 `단락 평가`라고 합니다.

자바스크립트 코드를 보면 단락 평가의 특징을 이용한 코드를 흔하게 볼 수 있습니다. 가장 일반적인 예제 중 하나는 조건에 따라 함수를 호출하는 경우입니다.

```javascript
if (x > y) {
  doSomething();
}
// 아래 코드는 위의 코드와 동일한 동작을 합니다.
x > y && doSemething();
```

마지막 줄을 보면 좌측 비교 연산의 결과가 참으로 평가될 때만 doSomething() 함수를 호출합니다. 만약 반대로 좌측의 결과가 거짓으로 평가도니다면 doSomething() 함수는 실행되지 않습니다.
