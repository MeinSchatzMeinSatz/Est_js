# 구문과 연산자

프로그래밍 언어에서 구문(Syntax)은 애플리케이션 또는 프로그램을 만들기 위해 언어가 작동하는 규칙을 정의하며, 정형화된 문법에 따라 작성해야 합니다. 즉 올바른 구문을 작성하려면 언어의 문법과 구성 요소에 대해 명확하게 이해해야 합니다. 3.5장 에서는 자바스킄립트 구문의 중요한 구성 요소인 표현식(Expression)과 문(Statement) 그리고 연산자(Operator)에 대해 살펴보겠습니다.

- 표현식(Expression)
- 문(Statement)
- 연산자(Operator)

## Expression

자바스크립트에서 `표현식과 문의 차이를 이해하는 것은 매우 중요`합니다. 이 둘의 차이를 정확하게 이해하고 조합해야 자바스크립트 구문을 올바르게 작성할 수 있습니다.

먼저 표현식부터 알아봅시다. `표현식`은 `값으로 평가되는 구문`입니다. 예를 들어 임의의 숫자나 문자열은 모두 표현식입니다.

- NOTE : 값을 반환한다는 표현을 자바스크립트에서는 보통 값을 평가한다고 표현합니다.

```javascript
//아래 문자열은 결괏값으로 'javascript'를 반환하는 표현식입니다.
"javascript";
```

좀 더 흥미로운 예를 들면 변수에 값을 할당하는 것도 표현식입니다.

```javascript
var a;
a = 1;
```

마지막 줄을 보면 변수 a에 숫자 1을 할당했습니다. 이러한 구문을 `할당 표현식`이라고 하며, 할당된 값이 결괏값으로 평가됩니다. 예제 코드에서는 할당된 값이 1이기 때문에 할당 표현식은 1이라는 값으로 평가됩니다.

표현식의 결과는 항상 값이 되므로 이 결과를 다른 표현식과 결합해 다른 결괏값을 얻을 수 있습니다. 이렇게 `여러 표현식을 결합하는 것을 복합 표현식`이라고 합니다. 복합 표현식을 작성하는 가장 간단한 방법은 연산자를 사용하는 것입니다.

```javascript
var x = 1;
var y = 2;

x + y;
```

표현식 x와 표현식 y를 덧셈 연산자로 결합해 새로운 값으로 평가합니다. 즉 x와 y 값의 덧셈 연산 결과가 복합 표현식의 결괏값입니다.

## Statement

자바스크립트의 문은 `일종의 지시`를 내리는 것입니다. 예를 들어 A라는 값과 B라는 값을 더해라 처럼 지시를 내리는 것을 자바스크립트에서는 문이라고 합니다. 표현식이 값으로 평가되는 결과를 가져온다면, 문은 표현식 또는 다른 문을 조합해 동작을 수행하는 지시를 내립니다. 문 또한 완료 값이라는 결과값이 있지만, 표현식처럼 다른 변수나 객체의 프로퍼티에 할당할 수 없습니다.

```javascript
let a;
// 아래의 조건문은 결과값으로 '1'을 가지지만 변수에 할당할 수 없습니다.
const b = if (true) { a = '1' }; // Uncaught SyntaxError: Unexpected token 'if'
```

문을 만드는 간단한 방법은 부수 효과(Side-Effect)가 있는 표현식을 실행하는 것입니다. 부수 효과가 있는 표현식은 독립적인 문으로서 사용할 수 있습니다. 앞서 표현식에서 봤던 할당 표현식이 대표적인 예시입니다. 할당 표현식은 변수에 다른 값을 할당해 변숫값을 변화시킵니다. 즉 변숫값의 변화라는 부수 효과가 발생합니다. 이렇게 `문으로도 사용할 수 있는 표현식을 표현문`이라고 합니다.

### 표현문

부수 효과가 있는 표현식으로 `할당 표현식` 또는 `함수 호출`과 같은 표현식입니다.

```javascript
function doSomething() {
  // ...
}

// 함수의 호출도 부수 효과를 발생시키기 때문에 표현문입니다.
doSomething();
```

### 선언문

변수 또는 함수를 정의합니다.

### 조건문

조건부에 해당하는 표현식의 값에 따라 문을 실행하거나 건너뜁니다.

```javascript
// 표현식 a의 평가 결과가 true일 때만 조건문 안에 있는 문을 실행합니다.
if (a) {
  console.log("mission complete");
}
```

### 반복문

조건 표현식의 평가 결과가 true 라면 반복문 내의 코드를 실행합니다. 이 과정을 조건 표현식의 결과가 false가 나오지 않는 한 반복 실행합니다.

```javascript
// 표현식 a의 평가 결과가 true라면 반복문 안에 있는 문을 실행합니다.
while (a) {
  console.log("반복 수행");
}
```

### 점프문

특정 위치로 건너뛰어 문을 실행합니다. break문, continue 문, return 문 등이 있습니다.

```javascript
// return 문을 만나면 doSomething() 함수가 호출된 부분으로 건너뛰고 호출부에 값을 전달합니다.
function doSomething() {
  return "foo";
}

console.log(doSomething()); // 'foo'
```

자바스크립트 애플리케이션은 문들의 집합으로 구성됩니다. 애플리케이션의 올바른 구동을 위해서는 문의 특징을 제대로 이해하고 사용할 수 있어야 합니다. 꼭 따로 공부를 더하시길....! (이게 끝이 아니여?!)

## Operator

앞서 표현식과 문에 대해 알아봤습니다. 그럼 `표현식의 결과인 값을 활용해 새로운 값을 만들려면` 어떻게 해야 할까요? 표현식의 값들을 더하거나 곱하거나 대소 비교를 하고 싶다면 어떻게 해야 할까요?

단순하게 문자열이나 숫자를 표현식으로 정의하는 것만으로는 이러한 작업들을 할 수 없습니다. 표현식과 표현식을 결합해 복합 표현식을 만들려면 '무엇'인가의 도움이 필요합니다.

이때 필요로 하는 '무엇'이 바로 `연산자` 입니다. 표현식이 값으로 평가된다면 `연산자는 값을 만들어 내는 방법`입니다. 덧셈을 하고 싶다면 + 산술 연산자를 사용하여 표현식의 값들을 더한 새로운 값을 만들어낼 수 있습니다.

### 산술 연산자

+: 덧셈
-: 뺄셈
\*: 곱셈
/: 나눗셈
%: 나머지
++: 전치, 후치 증가(단항 연산)
--: 전치, 후치 감소(단한 연산) +단항: 피연산자의 값을 숫자로 변환 -단항: 피연산자의 값의 부호를 변경

연산자들을 사용한 대부분의 표현식들은 부수 효과가 없습니다. a + 3과 같은 덧셈 연산을 해도 a의 값을 변경하지는 않습니다. 단지 덧셈 연산의 값이 평가되어 반환될 뿐입니다. 하지만 전치, 후치, 증감 연산자는 부수효과를 가진 연산자 입니다.

```javascript
let a = 1;
let b = a++;
console.log(a, b); // 2, 1 -> 조금 헷깔리는데?

let c = ++a;

console.log(a, c); // 3, 3
```

먼저 `후치 증가 연산자`를 사용한 표현식 a++부터 살펴봅시다.
이 표현식은 두 가지 일을 수행합니다.

1. `a를 평가해 값(여기서는 1)을 반환`
2. `그 후 a의 값을 1만큼 증가시켜 변경합니다.`
   간혹 증가된 값을 할당한다고 착각하는데, 값이 먼저 평가되기 때문에 증가된 값이 아닌 기존 값이 할당됩니다. 따라서 예제 코드의 2번째 줄에서 b에 할당되는 값은 1입니다.

`전치 증가 연산자`
는 후치 증가 연산자와 반대로 동작합니다. `값을 먼저 1만큼 증가시킨 후에 평가된 값을 반환합니다.` ++a는 기존의 a값(2)을 1만큼 증가시킨 3을 반환하며, 최종적으로 c에 이 값(3)이 할당됩니다.

`+, - 연산자`
는 덧셈, 뺄셈 연산자로 사용되기도 하지만, 단항 연산자로서 다른 역할을 하기도 합니다.

```javascript
let num1 = "1";
let num2 = 2;

// 단항 + 연산자를 사용해 문자 '1'을 숫자 1로 변환합니다.
const a = +num1;

// 단항 - 연산자를 사용해 숫자 2의 부호를 변경합니다.
const a = -num2;
```

단항 + 연산자는 피연산자가 숫자로 변환할 수 없는 문자열일 때 결과값으로 NaN을 반환합니다.

`산술 연산자의 결합 방향`
연산자는 결합 방향에 따라 연산들 간의 순서가 결정됩니다. 결합 방향이 좌측에서 우측이라면 연산은 좌측에서 우측으로 일어나며, 반대이면 연산은 우측에서 좌측으로 일어납니다.

예를 들어, 덧셈 연산자는 결합 방향이 왼쪽에서 오른쪽이기 때문에 왼쪽부터 연산을 실행합니다.
반면 +, - 단항 연산자와, ++, -- 전치 증감 연산자는 결합 방향이 오른쪽에서 왼쪽이기 때문에 오른쪽부터 연산을 실행합니다.

```javascript
a = x + y - z;
// 위의 할당문은 아래와 동일합니다.
a = x + y - z;

-+a -
  // 위의 단항 연산자는 아래처럼 우측부터 평가를 진행합니다.
  +a;
```
