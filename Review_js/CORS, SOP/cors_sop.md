# SOP, CORS

한 줄 요약, 웹 보안과 관련해서 등장하는 중요한 개념

SOP(Same-Origin Policy)
CORS(Cross-Origin Resource Sharing)

## SOP

-   동일 출처 정책

[한줄정리]
같은 출처(프로토콜, 도메인, 포트 모두가 동일한 경우)가 아니면 스크립트가 데이터에 접근하지 못하게 막아 보안을 지키는 정책

[정의]
웹 브라우저에서 한 출처(origin)의 문서나 스크립트가 다른 출처의 리소스에 접근하는 것을 제한하는 보안 정책

출처란, 프로토콜, 도메인, 포트 번호가 모두 같은 경우를 의미한다.

악의적 공격을 예방하기 위해 기본적으로 서로 다른 출처 간 데이터 접근을 막는다.

[특징]
동일 출처 간에는 자유롭게 DOM 조작, 쿠키 접근, AJAX 요청이 가능.

다른 출처 간에는 기본적으로 접근이 차단된다.
이미지, 스크립트, 스타일시트 등 일부 리소스 로드는 예외적으로 허용된다.

## CORS

-   교차 출처 리소스 공유
    [한줄정리]
    CORS는 SOP의 제한을 풀어 서버가 명시적으로 허락할 경우, 교차 출처 리소스 접근을 허용하는 메커니즘

[정의]
SOP의 제약을 해결하기 위해 도입된 브라우저와 서버 간의 표준 보안 정책 및 메커니즘

서버가 응답 헤어에 명시적으로 허용할 출처를 지정하면, 브라우저는 그 출처의 리소스에 제한적으로 접근을 허용한다.

[특징]
클라이언트가 요청 시 Origin 헤더를 포함
서버가 Access-Control-Allow-Origin 등의 헤더로 허용 출처 지정.
사전 요청으로 OPTIONS 메서드를 통해 허용 여부 확인
인증 정보 포함 요청(쿠키 등)은 별도의 허용 설정이 필요하다.
CORS가 활성화되면 서로 다른 출처 간 리소스 공유가 가능하지만, 여전히 보안은 유지된다.
